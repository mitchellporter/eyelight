$(function(){function e(e){var a=e.find("input[type='email']").val();return a&&a.length?-1===a.indexOf("@")?!1:!0:!1}function a(e){$.ajax({type:"GET",url:e.attr("action"),data:e.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",success:function(a){var s=a.msg||"Sorry, unable to subscribe. Please try again later.";"success"!==a.result?a.msg&&a.msg.indexOf("already subscribed")>=0&&(s="Looks like you've already subscribed. Thanks!",$("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>"+s+"</p>")):(e[0].reset(),t.fadeIn(),n.hide())}})}var s=$("#mc-embedded-subscribe-form"),n=$(".mc-field-group input, .clear input"),t=$("#signup-success"),o=$(".overlay"),i=$(".modal"),r=$(".modal .container"),l="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c=$("#pinkDot"),d=$("#pinkPath"),p=$("#pinkFAQ"),u=$("#cyanDot"),h=$("#cyanPath"),m=$("#cyanFAQ"),f=$("#greenDot"),g=$("#greenPath"),b=$("#greenFAQ");$("#toTop").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}}),$("#eyelight-logo, #eyelight-text").click(function(){$("#blink").addClass("blink").one(l,function(){$(this).removeClass("blink")})}),$(window).scroll(function(){var e=$(this).scrollTop(),a=$("main .container p"),s=$("main .container p span"),n=$("#hero").height(),t=$("#hero .content"),o=$("#hero #blur"),i=$(window).width(),r=!1,l=250;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(r=!0),n>=e){var v=$(this).scrollTop()/550,y=t.offset().top,C=1-(e-y+l)/l;v>"1"&&(v=1),r===!1&&(o.css({opacity:v}),t.css({opacity:C})),r===!1&&(i>=815&&t.css({transform:"translate(0px, "+e/3.5+"%)"}),815>i&&t.css({transform:"translate(0px, "+e/4.5+"%)"}),668>i&&t.css({transform:"translate(0px, "+e/5.4+"%)"}))}e>a.offset().top-$(window).height()/1.25&&(a.animate({opacity:"1"},500),s.each(function(e){setTimeout(function(){s.eq(e).css({opacity:"1",transition:"all 600ms ease-in-out"})},2250*Math.exp(.25*e)-1700)})),e>$(".app-highlights").offset().top-$(window).height()/2&&(c.addClass("pulse-pink"),d.addClass("activePath"),p.addClass("activeFAQ"),setTimeout(function(){u.addClass("pulse-cyan"),h.addClass("activePath"),m.addClass("activeFAQ")},500),setTimeout(function(){f.addClass("pulse-green"),g.addClass("activePath"),b.addClass("activeFAQ")},1e3)),e>$(".platform").offset().top-$(window).height()/1.25&&($("#phone").addClass("shadow-pulse"),$("#watch").addClass("shadow-pulse-delay"))}),$("#mobileContent img.bounceInUp").on(l,function(){$(this).addClass("flip")}),$(".cta").on("click",function(){o.addClass("is-open"),i.addClass("bounceInDown").one(l,function(){$(this).removeClass("bounceInDown")}),r.addClass("bounceInDown2").one(l,function(){$(this).removeClass("bounceInDown2")})}),$(".close-btn").on("click",function(){o.removeClass("is-open"),t.fadeOut("slow"),n.fadeIn("slow"),$("#errorMessage").remove(),$("input[type='email']").css("border","none"),i.addClass("slideOutUp").one(l,function(){$(this).removeClass("slideOutUp")}),r.addClass("slideOutUp2").one(l,function(){$(this).removeClass("slideOutUp2")})}),s.submit(function(n){n.preventDefault(),e(s)?a(s):($("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>A valid email is required.</p>"),$("input[type='email']").css({border:"2px solid red","border-radius":"5px"}))})});