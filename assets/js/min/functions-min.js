$(function(){function e(e){var a=e.find("input[type='email']").val();return a&&a.length?-1===a.indexOf("@")?!1:!0:!1}function a(e){$.ajax({type:"GET",url:e.attr("action"),data:e.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(e){console.log(e," err err err")},success:function(a){var n=a.msg||"Sorry, unable to subscribe. Please try again later.";"success"!==a.result?a.msg&&a.msg.indexOf("already subscribed")>=0&&(n="Looks like you've already subscribed. Thanks!",$("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>"+n+"</p>")):(e[0].reset(),t.fadeIn(),s.hide())}})}var n=$("#mc-embedded-subscribe-form"),s=$(".mc-field-group input, .clear input"),t=$("#signup-success"),i=$(".overlay"),o=$(".modal"),r="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",l=$("#pinkDot"),c=$("#pinkPath"),d=$("#pinkFAQ"),p=$("#cyanDot"),u=$("#cyanPath"),h=$("#cyanFAQ"),m=$("#greenDot"),f=$("#greenPath"),g=$("#greenFAQ");$("#toTop").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}}),$("#eyelight-logo").click(function(){$("#blink").addClass("blink").one(r,function(){$(this).removeClass("blink")})}),$(window).scroll(function(){var e=$(this).scrollTop(),a=$("main .container p"),n=$("main .container p span");e>a.offset().top-$(window).height()/1.25&&(a.animate({opacity:"1"},500),n.each(function(e){setTimeout(function(){n.eq(e).css({opacity:"1",transition:"all 600ms ease-in-out"})},2250*Math.exp(.25*e)-1700)})),e>$(".app-highlights").offset().top-$(window).height()/2&&(l.addClass("pulse-pink"),c.addClass("activePath"),d.addClass("activeFAQ"),setTimeout(function(){p.addClass("pulse-cyan"),u.addClass("activePath"),h.addClass("activeFAQ")},500),setTimeout(function(){m.addClass("pulse-green"),f.addClass("activePath"),g.addClass("activeFAQ")},1e3)),e>$(".platform").offset().top-$(window).height()/1.25&&($("#phone").addClass("shadow-pulse"),$("#watch").addClass("shadow-pulse-delay"))}),$("#mobileContent img.bounceInUp").on(r,function(){$(this).addClass("flip")}),$(".cta").on("click",function(){i.addClass("is-open"),o.addClass("bounceInDown").one(r,function(){$(this).removeClass("bounceInDown")})}),$(".close-btn").on("click",function(){i.removeClass("is-open"),t.fadeOut("slow"),s.fadeIn("slow"),$("#errorMessage").remove(),$("input[type='email']").css("border","none"),o.addClass("slideOutUp").one(r,function(){$(this).removeClass("slideOutUp")})}),n.submit(function(s){s.preventDefault(),e(n)?a(n):($("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>A valid email is required.</p>"),$("input[type='email']").css({border:"2px solid red","border-radius":"5px"}))})});