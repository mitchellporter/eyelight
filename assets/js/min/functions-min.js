$(function(){function e(e){var n=e.find("input[type='email']").val();return n&&n.length?-1===n.indexOf("@")?!1:!0:!1}function n(e){$.ajax({type:"GET",url:e.attr("action"),data:e.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",success:function(n){var s=n.msg||"Sorry, unable to subscribe. Please try again later.";"success"!==n.result?n.msg&&n.msg.indexOf("already subscribed")>=0&&(s="Looks like you've already subscribed. Thanks!",$("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>"+s+"</p>")):(e[0].reset(),t.fadeIn(),o.hide())}})}var s=$("#mc-embedded-subscribe-form"),o=$(".mc-field-group input, .clear input"),t=$("#signup-success"),a=$(".overlay"),i=$(".modal"),r=$(".modal .container"),l="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";$("#toTop").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}}),$("#eyelight-logo, #eyelight-text").click(function(){$("#blink").addClass("blink").one(l,function(){$(this).removeClass("blink")})}),$("#mobileContent img.bounceInUp").on(l,function(){$(this).addClass("flip")}),$(window).scroll(function(){var e=$(this).scrollTop(),n=$("#app-intro .container p"),s=$("#hero").height(),o=$("#hero .content"),t=$("#hero #blur"),a=$(window).width(),i=!1,r=250;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(i=!0),s>=e){var l=$(this).scrollTop()/550,c=o.offset().top,d=1-(e-c+r)/r;l>"1"&&(l=1),i===!1&&(t.css({opacity:l}),o.css({opacity:d})),i===!1&&(a>=815&&o.css({transform:"translate(0px, "+e/3.5+"%)"}),815>a&&o.css({transform:"translate(0px, "+e/4.5+"%)"}),668>a&&o.css({transform:"translate(0px, "+e/5.4+"%)"}))}e>n.offset().top-$(window).height()/1.25&&n.each(function(e){setTimeout(function(){n.eq(e).css({opacity:"1",transition:"all 600ms ease-in-out"})},750*Math.exp(.25*e)-500)}),e>$(".platform").offset().top-$(window).height()/1.25&&($("#phone").addClass("shadow-pulse"),$("#watch").addClass("shadow-pulse-delay"))}),$(".cta").on("click",function(){a.addClass("is-open"),i.addClass("bounceInDown").one(l,function(){$(this).removeClass("bounceInDown")}),r.addClass("bounceInDown2").one(l,function(){$(this).removeClass("bounceInDown2")})}),$(".close-btn").on("click",function(){a.removeClass("is-open"),t.fadeOut("slow"),o.fadeIn("slow"),$("#errorMessage").remove(),$("input[type='email']").css("border","none"),i.addClass("slideOutUp").one(l,function(){$(this).removeClass("slideOutUp")}),r.addClass("slideOutUp2").one(l,function(){$(this).removeClass("slideOutUp2")})}),s.submit(function(o){o.preventDefault(),e(s)?n(s):($("#errorMessage").remove(),$("#errors").append("<p id='errorMessage'>A valid email is required.</p>"),$("input[type='email']").css({border:"2px solid red","border-radius":"5px"}))})});